> Failures don’t always arrive as a clean “down.” More often they arrive as a slow bleed: elevated latency, intermittent 5xx, throttling, and timeouts that stretch until your queues and thread pools do the failing for you.
>
> Our system leans heavily on LLM APIs. That dependency is powerful, but it is also _shared_: when it degrades, every worker experiences the same gravity. Unchecked retries and concurrent calls can turn a partial outage into a self-inflicted incident—requests pile up behind a door that is only half open, and the pressure spreads outward into connection pools, scheduler latency, and downstream backlogs.
>
> The circuit breaker is our way of keeping that failure local. It treats downstream health as a first-class signal and intentionally trades completeness for **bounded impact**: when the LLM service crosses an error/latency threshold, we stop sending traffic for a short window, fail fast (or degrade), and probe cautiously until the dependency proves it’s healthy again. In distributed-systems terms, this is an **eventual convergence** mechanism for dependency health: we may be wrong briefly (false opens/closes), but the system converges toward the correct behavior as conditions stabilize, without requiring coordination across every worker. {cite}`fowler_circuit_breaker`
>
> Concretely: we maintain a rolling view of LLM call outcomes (timeouts, 429/5xx, tail latency). When the breaker opens, calls do not “hang around hoping.” They return immediately with a typed failure outcome and a clear reason, which prevents work queues from becoming waiting rooms. After a cool-down period, the breaker enters half-open and allows a small number of probe calls; if they succeed, we close. If they fail, we reopen. This turns a volatile dependency into something the system can reason about—and measure.
>
> The goal is not to avoid all errors. The goal is to make errors **non-contagious**: keep workers available, preserve throughput for non-LLM work, and give the on-call a clean signal (“the breaker is open”) rather than a fog of timeouts.
